<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人财务管理系统 - 首页</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- 引入 ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        .charts-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        
        .chart-card {
            flex: 1;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        
        .chart-card h3 {
            margin: 0 0 20px 0;
            color: #333;
            font-size: 16px;
        }
        
        .chart {
            height: 300px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- 侧边栏 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="images/logo.png" alt="Logo" class="logo">
                <h2>财务管理系统</h2>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li class="active">
                        <a href="index.html"><i class="fas fa-chart-line"></i>看板</a>
                    </li>
                    <li>
                        <a href="personal-transactions.html"><i class="fas fa-wallet"></i>个人记账</a>
                    </li>
                    <li>
                        <a href="family-bills.html"><i class="fas fa-home"></i>家庭账单</a>
                    </li>
                    <li>
                        <a href="personal-savings.html"><i class="fas fa-piggy-bank"></i>个人储蓄计划</a>
                    </li>
                    <li>
                        <a href="family-savings.html"><i class="fas fa-users"></i>家庭储蓄计划</a>
                    </li>
                    <li>
                        <a href="financial-health.html"><i class="fas fa-heartbeat"></i>财务健康看板</a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 顶部导航栏 -->
            <header class="top-nav">
                <div class="nav-left">
                    <button class="menu-toggle"><i class="fas fa-bars"></i></button>
                    <div class="breadcrumb">
                        <span>首页</span> / <span>看板</span>
                    </div>
                </div>
                <div class="nav-right">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="搜索...">
                    </div>
                    <div class="notifications">
                        <i class="fas fa-bell"></i>
                        <span class="badge">3</span>
                    </div>
                    <div class="user-profile">
                        <img src="images/avatar.png" alt="用户头像">
                        <span>张三</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
            </header>

            <!-- 内容区域 -->
            <div class="content">
                <!-- 概览卡片 -->
                <div class="overview-cards">
                    <div class="card">
                        <div class="card-icon income">
                            <i class="fas fa-arrow-up"></i>
                        </div>
                        <div class="card-info">
                            <h3>本月收入</h3>
                            <p class="amount">¥12,500</p>
                            <p class="trend positive">+12.5%</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-icon expense">
                            <i class="fas fa-arrow-down"></i>
                        </div>
                        <div class="card-info">
                            <h3>本月支出</h3>
                            <p class="amount">¥8,300</p>
                            <p class="trend negative">-5.2%</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-icon balance">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="card-info">
                            <h3>当前余额</h3>
                            <p class="amount">¥45,200</p>
                            <p class="trend positive">+8.3%</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-icon savings">
                            <i class="fas fa-piggy-bank"></i>
                        </div>
                        <div class="card-info">
                            <h3>储蓄目标</h3>
                            <p class="amount">75%</p>
                            <p class="trend">已完成</p>
                        </div>
                    </div>
                </div>

                <!-- 图表区域 -->
                <div class="charts-container">
                    <div class="chart-card">
                        <h3>收支趋势</h3>
                        <div class="chart" id="trendChart"></div>
                    </div>
                    <div class="chart-card">
                        <h3>支出分类</h3>
                        <div class="chart" id="categoryChart"></div>
                    </div>
                </div>

                <!-- 最近交易 -->
                <div class="recent-transactions">
                    <h3>最近交易</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>日期</th>
                                <th>描述</th>
                                <th>分类</th>
                                <th>金额</th>
                                <th>状态</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2024-04-08</td>
                                <td>工资收入</td>
                                <td>收入</td>
                                <td class="amount income">+¥12,500</td>
                                <td><span class="status completed">已完成</span></td>
                            </tr>
                            <tr>
                                <td>2024-04-07</td>
                                <td>超市购物</td>
                                <td>日常支出</td>
                                <td class="amount expense">-¥328.50</td>
                                <td><span class="status completed">已完成</span></td>
                            </tr>
                            <tr>
                                <td>2024-04-06</td>
                                <td>房租支出</td>
                                <td>住房</td>
                                <td class="amount expense">-¥3,500</td>
                                <td><span class="status pending">处理中</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化收支趋势图表
            const trendChart = echarts.init(document.getElementById('trendChart'));
            const trendOption = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend: {
                    data: ['收入', '支出', '结余']
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']
                },
                yAxis: {
                    type: 'value',
                    name: '金额 (元)'
                },
                series: [
                    {
                        name: '收入',
                        type: 'bar',
                        stack: 'total',
                        data: [12000, 13200, 10100, 13400, 19000, 23400, 21000, 18200, 19100, 23400, 29000, 33000],
                        itemStyle: {
                            color: '#4CAF50'
                        }
                    },
                    {
                        name: '支出',
                        type: 'bar',
                        stack: 'total',
                        data: [8000, 9200, 9100, 9400, 12000, 13400, 13000, 12200, 13100, 13400, 15000, 18000],
                        itemStyle: {
                            color: '#F44336'
                        }
                    },
                    {
                        name: '结余',
                        type: 'line',
                        data: [4000, 4000, 1000, 4000, 7000, 10000, 8000, 6000, 6000, 10000, 14000, 15000],
                        itemStyle: {
                            color: '#2196F3'
                        },
                        lineStyle: {
                            width: 3
                        },
                        symbol: 'circle',
                        symbolSize: 8
                    }
                ]
            };
            trendChart.setOption(trendOption);

            // 初始化支出分类图表
            const categoryChart = echarts.init(document.getElementById('categoryChart'));
            const categoryOption = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{a} <br/>{b}: {c} ({d}%)'
                },
                legend: {
                    orient: 'vertical',
                    left: 10,
                    data: ['餐饮', '交通', '购物', '娱乐', '居住', '医疗', '教育', '其他']
                },
                series: [
                    {
                        name: '支出分类',
                        type: 'pie',
                        radius: ['50%', '70%'],
                        avoidLabelOverlap: false,
                        itemStyle: {
                            borderRadius: 10,
                            borderColor: '#fff',
                            borderWidth: 2
                        },
                        label: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            label: {
                                show: true,
                                fontSize: '18',
                                fontWeight: 'bold'
                            }
                        },
                        labelLine: {
                            show: false
                        },
                        data: [
                            { value: 3500, name: '餐饮' },
                            { value: 2000, name: '交通' },
                            { value: 3000, name: '购物' },
                            { value: 1500, name: '娱乐' },
                            { value: 4000, name: '居住' },
                            { value: 1000, name: '医疗' },
                            { value: 2000, name: '教育' },
                            { value: 1000, name: '其他' }
                        ]
                    }
                ]
            };
            categoryChart.setOption(categoryOption);

            // 响应窗口大小变化
            window.addEventListener('resize', function() {
                trendChart.resize();
                categoryChart.resize();
            });
        });
    </script>
</body>
</html> 